/* POINTER EVENT START */
if (pathName[0] === "" && pathName[1] === "edit") {
  document.addEventListener("pointerdown", function (event) {
    // Get the target element of the pointer event
    var targetElement = event.target;

    // Check if the target element contains text
    var elementText = targetElement.textContent.trim();
    if (
      elementText.length > 0 &&
      !targetElement.hasAttribute("data-pointer-processed")
    ) {
      console.log(
        "Pointer down on an element containing text:",
        elementText.split("")
      );

      targetElement.setAttribute("data-pointer-processed", "true");

      // Get the CSS styles of the target element
      var computedStyles = window.getComputedStyle(targetElement);

      // Attach a click event listener to the element
      targetElement.addEventListener("click", function () {
        // Create a form element
        var form = document.createElement("form");

        // Create an input field
        var inputField = document.createElement("input");
        inputField.type = "text";
        inputField.value = elementText;

        // Get the value of the input field
        // var inputValue = inputField.value;

        // Check if the input starts with one or more empty spaces
        // if (inputValue.startsWith("")) {
        //   console.log(inputValue.split(""));
        // } else {
        //   console.log("Input doesn't start with empty space(s).");
        // }

        // Set width and height of the input field
        var rect = targetElement.getBoundingClientRect();
        // inputField.style.width = rect.width + "px";
        // inputField.style.height = rect.height + "px";

        // Apply the CSS styles of the target element to the input field
        for (var i = 0; i < computedStyles.length; i++) {
          var property = computedStyles[i];
          var value = computedStyles.getPropertyValue(property);
          inputField.style.setProperty(property, value);
        }

        inputField.style.width = targetElement.offsetWidth + "px";
        // inputField.value = targetElement.textContent;
        // inputField.style.height = targetElement.offsetHeight + "px";
        inputField.style.textAlign = "left !important";
        inputField.style.border = "1px solid red";
        // inputField.style.justifyContent = "left !important";
        // inputField.style.alignItems = "left !important";

        // Append the input field to the form
        // inputField.value = targetElement.textContent;
        form.appendChild(inputField);

        // Replace the text content of the target element with the input field value
        // targetElement.textContent = inputField.value;

        // Replace the target element with the form
        targetElement.replaceWith(form);
        // targetElement.width.style = "100%";
        // targetElement.height.style = targetElement.offsetHeight;
        // targetElement.width.style = "100%";
        // targetElement.width.style = "100%";
        // targetElement.appendChild(form);
      });
    } else {
      console.log("Pointer down on an element without text");
    }
  });
}
/* POINTER EVENT END */



/* Image Scrolling */
// Get the element
  let webDevelopmentRelatedServices = document.getElementById(
    "web-development-related__services"
  );

  let lastScrollPosition = window.scrollY;
  // console.log("Last Scrolled Position: ", lastScrollPosition);

  // Function to get the visible portion of the element
  function getVisiblePortionHeight(element) {
    const rect = element.getBoundingClientRect();
    const viewportHeight =
      window.innerHeight || document.documentElement.clientHeight;
    const visibleTop = Math.max(rect.top, 0);
    const visibleBottom = Math.min(rect.bottom, viewportHeight);

    const visibleHeight = visibleBottom - visibleTop;

    return visibleHeight;
  }

  // Event listener to check when the element comes into view
  window.addEventListener("scroll", function () {
    let currentScrollPosition = window.scrollY;

    let scrollDirection =
      currentScrollPosition > lastScrollPosition ? "down" : "up";

    lastScrollPosition = currentScrollPosition;

    const visibleHeight = getVisiblePortionHeight(
      webDevelopmentRelatedServices
    );

    console.log("Visible height of the element:", visibleHeight);
  });